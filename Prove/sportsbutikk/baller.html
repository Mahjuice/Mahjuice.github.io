<!DOCTYPE html>
<html lang="nb" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title></title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
  </head>
  <body>
    <header>
      <ul>
        <li><a href="main.html">Hjem</a></li>
        <li><a href="drakter.html">Drakter</a></li>
        <li><a href="sko.html">Sko</a></li>
        <li class="Aktivside"><a href="baller.html">Baller</a></li>
    </header>
    <div class="a123">
      <section class="sorteringsknapp">
        <button class="button" type="button" onclick="visBaller()">Alle</button>
        <button class="button" type="button" onclick="NikeBaller()">Nike</button>
        <button class="button" type="button" onclick="AdidasBaller()">Adidas</button>
        <button class="button" type="button" onclick="PumaBaller()">Puma</button>
      </section>
    <main id="secVarer">
      <section>
        <div class="varer"><a href="varekjøp.html?id=${key}">les mer</a></div>
      </section>
    </main>
  </div>
    <script src="https://www.gstatic.com/firebasejs/5.9.1/firebase.js"></script>
    <script>
      // Initialize Firebase
      var config = {
        apiKey: "AIzaSyCMFCwHT3iYMwhK5hCmqiRSXaQgPwDrXlE",
        authDomain: "sportsbutikk-ce6ea.firebaseapp.com",
        databaseURL: "https://sportsbutikk-ce6ea.firebaseio.com",
        projectId: "sportsbutikk-ce6ea",
        storageBucket: "sportsbutikk-ce6ea.appspot.com",
        messagingSenderId: "705858020636"
      };
      firebase.initializeApp(config);
    </script>
    <script type="text/javascript">

      const main = document.querySelector("main");
      const secAlleSko = document.querySelector("secSko");
      const secAlleDrakter = document.querySelector("secDrakter");
      const secAlleBaller = document.querySelector("secBaller");
      const db = firebase.database();
      const bpl = db.ref("Varer/Drakter/BPL");
      const laliga = db.ref("Varer/Drakter/LaLiga");
      const serieA = db.ref("Varer/Drakter/SerieA");
      const nike = db.ref("Varer/Sko/Nike");
      const puma = db.ref("Varer/Sko/Puma");
      const adidas = db.ref("Varer/Sko/Adidas");
      const nikeballer = db.ref("Varer/Baller/Nike")
      const pumaballer = db.ref("Varer/Baller/Puma")
      const adidasballer = db.ref("Varer/Baller/Adidas")



      function genererHTML(snapshot){

        let parent = snapshot.ref.parent.key;
        let parentParent = snapshot.ref.parent.parent.key;
        let key = snapshot.key;
        let sko = snapshot.val();
        let merke;
        if(sko["Merke"]){
          merke = sko["Merke"];
        }
        else{
          merke = parent;
        }
        main.innerHTML +=`
          <section class="varer">
          <div class="bilde_container">
            <h3>${sko["Navn"]}</h3>
            <img class="vareBilde" src=${sko["ImageURL"]}>
          </div>
          <div class="text_container">
            <h5> ${merke}</h5>
            <h6 class="subheader">${sko["Pris"]}</h6>
            <a class="subheader" href="varekjøp.html?key=${key}&parent=${parent}&parentParent=${parentParent}">les mer</a>
          </div>
          </section>
          `
      }

      function visBaller(){
        main.innerHTML = ``;
        nikeballer.orderByChild("Navn").on("child_added",genererHTML);
        adidasballer.orderByChild("Navn").on("child_added",genererHTML);
        pumaballer.orderByChild("Navn").on("child_added",genererHTML);
      }
      function NikeBaller(){
        main.innerHTML = ``;
        nikeballer.orderByChild("Nike").on("child_added",genererHTML);
      }
      function AdidasBaller(){
        main.innerHTML = ``;
        adidasballer.orderByChild("Adidas").on("child_added",genererHTML);
      }
      function PumaBaller(){
        main.innerHTML = ``;
        pumaballer.orderByChild("Puma").on("child_added",genererHTML);
      }
      visBaller();

    </script>

    <footer class="mellomrom">
        <a href="https://www.facebook.com/torshovfotball/" class="fa fa-facebook"></a>
        <a href="https://twitter.com/torshovfotball" class="fa fa-twitter"></a>
        <a href="om_oss.html" class="om_osslink">Om oss</a>
    </footer>

  </body>
</html>
